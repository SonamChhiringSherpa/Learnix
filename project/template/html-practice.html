{%extends 'base.html'%}
{%load static %}
{%block title%}HTML Course{%endblock%}
{%block class_title%}course-details-page{%endblock%}
{% block content %}
    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">HTML: From Zero to Website</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="{%url 'home' %}">Home</a></li>
            <li><a href="{%url 'course' %}">Courses</a></li>
            <li class="current">HTML-Practice</li>
          </ol>
        </nav>
      </div>
    </div>

    <main id="main">

  <!-- ======= Breadcrumbs ======= -->
  <div class="breadcrumbs" data-aos="fade-in">
    <div class="container">
      <h2>Build a Webpage — Challenge</h2>
      <p>Complete level-based tasks to build a mini webpage. Unlock tags, earn points, and badges.</p>
    </div>
  </div>
  <!-- End Breadcrumbs -->

  <!-- The game UI card is injected by assets/js/main.js (initHtmlPracticeGame) -->

</main>
<!-- End #main -->
</main>
{%endblock%}
{%block extra_js %} 

  <!-- JAVASCRIPT -->

<script>
  const quizData = [
    {
      type: "mcq",
      question: "Which tag defines the largest heading in HTML?",
      options: ["<h6>", "<h1>", "<heading>", "<title>"],
      correct: 1
    },
    {
      type: "mcq",
      question: "Which attribute is used to provide alternative text for images?",
      options: ["title", "alt", "src", "text"],
      correct: 1
    },
    {
      type: "mcq",
      question: "Which tag is used to create an unordered list?",
      options: ["<ul>", "<ol>", "<li>", "<list>"],
      correct: 0
    },
    {
      type: "mcq",
      question: "Which input type is used for selecting a single option from multiple?",
      options: ["text", "checkbox", "radio", "button"],
      correct: 2
    },
    {
      type: "fill",
      question: "Fill in the blank: The ____ tag is used to create a hyperlink in HTML.",
      answer: "a"
    },
    {
      type: "fill",
      question: "Fill in the blank: The ____ tag is used to insert an image in HTML.",
      answer: "img"
    },
    {
      type: "fill",
      question: "Fill in the blank: The ____ element contains metadata like title and styles.",
      answer: "head"
    },
    {
      type: "mcq",
      question: "Which tag is used to create a row in a table?",
      options: ["<td>", "<th>", "<tr>", "<row>"],
      correct: 2
    },
    {
      type: "fill",
      question: "Fill in the blank: The ____ tag is used for paragraph text.",
      answer: "p"
    },
    {
      type: "mcq",
      question: "Which input type is used for entering an email address?",
      options: ["text", "mail", "email", "input"],
      correct: 2
    }
  ];

  let currentQuestion = 0;

  function loadQuestion() {
    const q = quizData[currentQuestion];
    const qText = document.getElementById("questionText");
    const optionsDiv = document.getElementById("optionsContainer");
    const feedback = document.getElementById("feedback");

    qText.innerHTML = `Q${currentQuestion+1}. ${q.question}`;
    optionsDiv.innerHTML = "";
    feedback.textContent = "";

    if (q.type === "mcq") {
      q.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.className = "btn d-block w-100 text-start mb-2";
        btn.style.background = "#2d2d2d";
        btn.style.color = "#fff";
        btn.style.borderRadius = "8px";
        btn.onclick = () => {
          if (index === q.correct) {
            feedback.style.color = "lightgreen";
            feedback.textContent = "✅ Correct!";
          } else {
            feedback.style.color = "red";
            feedback.textContent = "❌ Wrong! Try again.";
          }
        };
        optionsDiv.appendChild(btn);
      });
    } else if (q.type === "fill") {
      const input = document.createElement("input");
      input.type = "text";
      input.placeholder = "Type your answer...";
      input.className = "form-control mb-3";
      input.style.background = "#2d2d2d";
      input.style.color = "#fff";
      optionsDiv.appendChild(input);

      const checkBtn = document.createElement("button");
      checkBtn.textContent = "Check Answer";
      checkBtn.className = "btn btn-success";
      checkBtn.onclick = () => {
        if (input.value.trim().toLowerCase() === q.answer.toLowerCase()) {
          feedback.style.color = "lightgreen";
          feedback.textContent = "✅ Correct!";
        } else {
          feedback.style.color = "red";
          feedback.textContent = "❌ Incorrect! Hint: starts with '" + q.answer[0] + "'";
        }
      };
      optionsDiv.appendChild(checkBtn);
    }

    document.getElementById("prevBtn").disabled = (currentQuestion === 0);
    document.getElementById("nextBtn").disabled = (currentQuestion === quizData.length-1);
  }

  document.getElementById("prevBtn").onclick = () => {
    if (currentQuestion > 0) {
      currentQuestion--;
      loadQuestion();
    }
  };

  document.getElementById("nextBtn").onclick = () => {
    if (currentQuestion < quizData.length-1) {
      currentQuestion++;
      loadQuestion();
    }
  };

  window.onload = loadQuestion;
</script>
{%endblock%}